<div [formGroup]="formGroup">
  <input type="text" matInput [formControlName]="internalFieldName"
         [matAutocomplete]="auto" [attr.aria-label]="placeholder"
  >
  <mat-autocomplete #auto="matAutocomplete"
                    [displayWith]="displayFn"
                    (closed)="panelClosed()"
                    (optionSelected)="optionSelected($event.option.value)">
    <mat-option *ngIf="isLoading" class="is-loading">
      <mat-spinner diameter="25"></mat-spinner>
    </mat-option>
    <ng-container *ngIf="!isLoading">
      <mat-option *ngFor="let student of filteredOptions" [value]="student">
        <span>{{ displayFn(student) }}</span>
      </mat-option>
    </ng-container>
  </mat-autocomplete>
</div>
